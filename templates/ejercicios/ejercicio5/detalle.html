{% extends "base.html" %}
{% block title %}{{ ejercicio.titulo }} ¬∑ Python Academy{% endblock %}

{% block content %}

<style>
  .hero-ej{
    background:#f8fafc;
    border-bottom:1px solid rgba(0,0,0,.08);
    padding:52px 0;
  }
  .hero-ej .badge{border-radius:999px;padding:8px 14px;font-weight:700;}
  .hero-ej h1{font-weight:800;letter-spacing:-.02em;}
  .hero-ej p{max-width:920px;margin:0 auto;}

  .hero-top-actions{
    display:flex;
    justify-content:center;
    margin-bottom:14px;
  }
  .btn-pill{border-radius:999px;padding:10px 22px;font-weight:700;}
  .btn-pill-sm{border-radius:999px;padding:8px 16px;font-weight:700;}

  .ej-wrap{padding:36px 0 70px;}
  .ej-panel{
    border-radius:18px;border:1px solid rgba(0,0,0,.08);
    box-shadow:0 10px 25px rgba(0,0,0,.05);
    background:#fff;padding:26px;
  }

  /* Bloques tipo tarjeta */
  .explain-card{
    border:1px solid rgba(0,0,0,.08);
    border-radius:16px;
    padding:18px;
    background:#fbfdff;
  }

  /* Bloques de c√≥digo */
  .code-box{
    background:#0b1220;
    color:#e6edf3;
    border-radius:14px;
    padding:14px;
    overflow:auto;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 0.92rem;
    white-space: pre; /* respeta enter + espacios */
    margin: 0;
  }

  .hint{ font-size:.95rem; color:#556; }

  /* Bot√≥n ejecutar */
  .ej-actions{
    margin-top:18px;
    display:flex;
    justify-content:center;
  }

  /* Formulario/Salida */
  .form-shell{margin-top:22px;display:flex;justify-content:center;}
  .form-card{
    width:100%;
    max-width:720px;
    border-radius:18px;border:1px solid rgba(0,0,0,.08);
    box-shadow:0 10px 25px rgba(0,0,0,.06);
    background:#fff;padding:22px;
  }
  .form-card *{max-width:100%;}

  /* Navegaci√≥n inferior */
  .ej-nav-bottom{
    margin-top:26px;
    padding-top:18px;
    border-top:1px solid rgba(0,0,0,.08);
    display:flex;
    justify-content:space-between;
    gap:12px;
    flex-wrap:wrap;
  }
  .ej-nav-bottom .btn{ min-width:170px; }
</style>

<!-- HERO -->
<section class="hero-ej">
  <div class="container text-center">

    <!-- Volver al men√∫ -->
    <div class="hero-top-actions">
      <a href="{{ url_for('ejercicios') }}" class="btn btn-outline-secondary btn-pill-sm">
        <i class="bi bi-arrow-left me-1"></i> Volver al men√∫
      </a>
    </div>

    <span class="badge bg-primary mb-3">{{ ejercicio.tema }}</span>
    <h1 class="display-5 mb-2">{{ ejercicio.titulo }}</h1>

    <!-- ‚úÖ Se mantiene la DESCRIPCI√ìN CORTA -->
    <p class="lead text-muted">
      {{ ejercicio.descripcion }}
    </p>
  </div>
</section>

<!-- CONTENIDO -->
<section class="ej-wrap">
  <div class="container">
    <div class="ej-panel">

      <!-- ‚úÖ ENUNCIADO (EDITAR AQU√ç) -->
      <div class="explain-card mb-4">
        <h4 class="fw-bold mb-2">üß© Enunciado</h4>

        <!-- üëá Tus compa√±eros cambian este texto -->
        <p class="mb-2">
          Aqu√≠ escribe el enunciado del ejercicio (qu√© se debe realizar y cu√°l es el objetivo).
        </p>

        <p class="mb-0 hint">
          Objetivo: explica claramente qu√© aprender√° el estudiante con este ejercicio.
        </p>
      </div>

      <!-- ‚úÖ EXPLICACI√ìN DEL C√ìDIGO (EDITAR AQU√ç) -->
      <div class="explain-card mb-4">
        <h4 class="fw-bold mb-3">üìå Explicaci√≥n del c√≥digo (paso a paso)</h4>

        <!-- ===== BLOQUE 1 ===== -->
        <h5 class="fw-bold mb-2">1) ¬øQu√© hace el programa?</h5>
        <p class="mb-3">
          Describe en 2-3 l√≠neas la l√≥gica general del ejercicio.
        </p>

        <!-- ===== BLOQUE 2 ===== -->
        <h5 class="fw-bold mb-2">2) Entradas del usuario</h5>
        <p class="mb-2">
          Explica qu√© datos ingresa el usuario y c√≥mo se validan.
        </p>

        <pre class="code-box mb-3"><code># Ejemplo de bloque de c√≥digo
# Tus compa√±eros pegan aqu√≠ el c√≥digo real (con indentaci√≥n)
numero = int(input("Ingrese un n√∫mero: "))</code></pre>

        <!-- ===== BLOQUE 3 ===== -->
        <h5 class="fw-bold mb-2">3) Proceso / C√°lculo</h5>
        <p class="mb-2">
          Explica la parte principal de la l√≥gica (bucles, condicionales, funciones, etc.).
        </p>

        <pre class="code-box mb-3"><code># Ejemplo
resultado = 1
for i in range(1, numero + 1):
    resultado *= i</code></pre>

        <!-- ===== BLOQUE 4 ===== -->
        <h5 class="fw-bold mb-2">4) Salida / Resultados</h5>
        <p class="mb-2">
          Explica qu√© se muestra al final y por qu√©.
        </p>

        <pre class="code-box"><code>print("El resultado es:", resultado)</code></pre>

        <p class="hint mt-3 mb-0">
          Consejo: No se salten pasos. Explicar ‚Äúpor qu√©‚Äù es m√°s importante que solo pegar c√≥digo.
        </p>
      </div>

      <!-- ‚úÖ BOT√ìN EJECUTAR -->
      <div class="ej-actions">
        <a href="{{ url_for('ejecutar_ejercicio', slug=ejercicio.slug) }}#formulario"
           class="btn btn-primary btn-pill btn-lg">
          Ejecutar ejercicio
        </a>
      </div>

      <!-- ‚úÖ FORMULARIO / SALIDA (sale despu√©s del bot√≥n) -->
      {% if contenido %}
      <div id="formulario" class="form-shell">
        <div class="form-card">
          {{ contenido|safe }}
        </div>
      </div>
      {% endif %}

      <!-- ‚úÖ ANTERIOR / SIGUIENTE -->
      <div class="ej-nav-bottom">

        {% if anterior %}
          <a href="{{ url_for('ver_ejercicio', slug=anterior['slug']) }}" class="btn btn-outline-primary btn-pill">
            <i class="bi bi-arrow-left me-1"></i> Anterior
          </a>
        {% else %}
          <button class="btn btn-outline-primary btn-pill" disabled>
            <i class="bi bi-arrow-left me-1"></i> Anterior
          </button>
        {% endif %}

        {% if siguiente %}
          <a href="{{ url_for('ver_ejercicio', slug=siguiente['slug']) }}" class="btn btn-primary btn-pill">
            Siguiente <i class="bi bi-arrow-right ms-1"></i>
          </a>
        {% else %}
          <button class="btn btn-primary btn-pill" disabled>
            Siguiente <i class="bi bi-arrow-right ms-1"></i>
          </button>
        {% endif %}

      </div>

    </div>
  </div>
</section>

{% endblock %}
